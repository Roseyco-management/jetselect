---
phase: 06-performance-polish
plan: 01
type: execute
---

<objective>
Add scroll-triggered reveal animations to wizard sections and option cards for progressive disclosure.

Purpose: Create engaging visual flow as users scroll through the wizard, enhancing the premium feel with Motion One's smooth animations.
Output: Sections fade-in-up as they enter viewport, option cards stagger elegantly on scroll.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-animation-framework/01-01-SUMMARY.md
@.planning/phases/05-interactive-elements/05-03-SUMMARY.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/STACK.md
@improved/js/script.js
@improved/css/style.css

**Tech stack available:**
- Motion One v11 (CDN) with AnimationManager and luxury timing curves
- IntersectionObserver already implemented (line 1389 in script.js)
- Vanilla JS class-based architecture

**Established patterns:**
- AnimationManager.fadeInUp/fadeInScale/stagger methods with luxury easing (cubic-bezier(0.16, 1, 0.3, 1))
- motion.animate() for all animations
- data-animated attribute to prevent re-animations
- Brand colors: teal #115A4E, orange #FA692F

**Constraining decisions:**
- Phase 1: Motion One chosen for 5KB footprint, no build tooling, luxury timing curves
- Phase 5: Staggered animations use 80ms delay for smooth sequential reveal
- Zero-dependency architecture: No new libraries, use Motion One + native APIs only

**Performance context:**
- Current JS: 52KB (includes Motion One CDN)
- Current CSS: 29KB
- Target: Keep total JS under 60KB, CSS under 35KB
</context>

<tasks>

<task type="auto">
  <name>Task 1: Intersection Observer scroll animations</name>
  <files>improved/js/script.js, improved/css/style.css</files>
  <action>
Add scroll-triggered fade-in-up animations to wizard sections using IntersectionObserver pattern (already exists at line 1389).

Create new method `AnimationManager.observeScrollReveal()` that:
1. Selects all elements with class `.scroll-reveal` (wizard sections, step containers)
2. Sets up IntersectionObserver with threshold: 0.15, rootMargin: '-50px' for early trigger
3. When element enters viewport, animate with fadeInUp (existing method)
4. Add data-animated attribute to prevent re-animation
5. Disconnect observer after animation completes

Add `.scroll-reveal` class to these sections in index.html:
- Hero section (already visible, skip this one)
- Each .step-container in wizard
- Footer section

Initial state in CSS:
```css
.scroll-reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: none; /* Prevent CSS transition interference */
}
```

Call `observeScrollReveal()` in init() after other animations initialize.

Use existing luxury easing from AnimationManager (cubic-bezier(0.16, 1, 0.3, 1)), 0.6s duration.
  </action>
  <verify>
1. Open improved/index.html in browser
2. Scroll down slowly through wizard steps
3. Each step container should fade-in-up as it enters viewport
4. Scroll back up - sections should NOT re-animate (data-animated check works)
5. Check console for no errors
  </verify>
  <done>
- All wizard sections have scroll-reveal animations
- Animations trigger 50px before element enters viewport
- No re-animation on scroll up
- Smooth 0.6s fade-in-up with luxury easing
- No console errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Staggered card reveals on scroll</name>
  <files>improved/js/script.js, improved/css/style.css</files>
  <action>
Enhance option cards to reveal with stagger animation when their parent step scrolls into view.

Modify AnimationManager.observeScrollReveal() to detect option card containers:
1. Check if element contains `.options-grid` children
2. If yes, instead of animating the container, animate each `.option-card` with stagger
3. Use existing stagger pattern: 80ms delay (from Phase 5-01), same as card selection animations
4. Each card: fade-in-up from translateY(20px), opacity 0â†’1, 0.5s duration
5. Mark parent container as data-animated to prevent re-trigger

Initial CSS state for option cards in scroll context:
```css
.step-container:not(.active) .option-card {
  opacity: 0;
  transform: translateY(20px);
}
```

This should work seamlessly with existing card hover animations (Phase 5-01) - scroll animation happens once on entry, hover animation remains interactive.

Stagger only applies to cards in non-active steps (on initial scroll reveal). Active step cards use existing instant appearance.
  </action>
  <verify>
1. Refresh browser, scroll to Step 2 (Passengers)
2. Option cards should fade-in-up with 80ms stagger as step enters viewport
3. Continue scrolling - each step's cards should stagger-animate on first appearance
4. Hover over cards after animation - existing hover effects still work
5. Navigate wizard with Next/Back buttons - no interference with step transitions
  </verify>
  <done>
- Option cards in each step animate with 80ms stagger on scroll reveal
- Stagger animation doesn't interfere with existing card interactions
- Smooth coordination between scroll reveals and wizard navigation
- Cards remain interactive after scroll animation completes
- No visual conflicts or duplicate animations
  </done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Scroll through entire wizard - all sections reveal smoothly
- [ ] Option cards stagger beautifully on first scroll
- [ ] No re-animation when scrolling back up
- [ ] Existing card hover effects still work
- [ ] No console errors or warnings
- [ ] Animations feel premium and coordinated
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Scroll reveals add polish without interfering with existing animations
- Performance remains excellent (no janky scrolling)
- User experience feels more premium and engaging
</success_criteria>

<output>
After completion, create `.planning/phases/06-performance-polish/06-01-SUMMARY.md`:

# Phase 6 Plan 1: Scroll Reveal Animations Summary

**[Substantive one-liner - what shipped, not "phase complete"]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `improved/js/script.js` - Description
- `improved/css/style.css` - Description

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 06-02-PLAN.md (Parallax & Smooth Scroll)
</output>
