---
phase: 09-technical-seo-infrastructure
plan: 04
type: execute
domain: seo
---

<objective>
Audit current Core Web Vitals performance and optimize for Google's 90+ target score through image optimization, lazy loading, and resource hints.

Purpose: Meet Google's Core Web Vitals thresholds (LCP <2.5s, FID <100ms, CLS <0.1) to maintain ranking eligibility and provide excellent user experience that converts high-net-worth visitors per PROJECT.md core value.

Output: Lighthouse performance audit report (baseline + optimized), optimized images, lazy loading implementation, resource hints for Google Fonts, verified 90+ performance score ready for production deployment.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase 9 Prior Plans (SEO Foundation)
@.planning/phases/09-technical-seo-infrastructure/09-01-SUMMARY.md
@.planning/phases/09-technical-seo-infrastructure/09-02-SUMMARY.md
@.planning/phases/09-technical-seo-infrastructure/09-03-SUMMARY.md

# Codebase Context
@.planning/codebase/STACK.md
@.planning/codebase/ARCHITECTURE.md
@improved/index.html
@improved/css/style.css

**Tech stack available:** Vanilla HTML/CSS/JS static site, Google Fonts API (Playfair Display, Poppins)
**Established patterns:**
- Static site: 192KB total size (already optimized vs 628KB WordPress original)
- Google Fonts: External dependency via fonts.googleapis.com
- No build process: Direct image optimization, manual lazy loading

**Constraining decisions:**
- Static architecture: No server-side optimization, pure client-side performance
- Google Fonts: Established typography (Playfair Display, Poppins) - keep but optimize loading

**Issues being addressed:**
- Active blockers from STATE.md: Chrome browser required for automated Lighthouse audits (manual alternative available if needed)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit baseline performance with Lighthouse</name>
  <files>.planning/phases/09-technical-seo-infrastructure/PERFORMANCE-BASELINE.md</files>
  <action>
    Run Lighthouse audit on improved/index.html to establish performance baseline:

    **Audit method:**
    1. If Chrome/Chromium available: Use Lighthouse CLI or Chrome DevTools
       ```bash
       # Install if needed: npm install -g lighthouse
       lighthouse improved/index.html --output html --output-path .planning/phases/09-technical-seo-infrastructure/baseline-report.html
       ```

    2. If Chrome not available: Use manual testing
       - Open improved/index.html in Firefox/Safari
       - Note: Can't run official Lighthouse, but can assess performance manually
       - Document in SUMMARY.md that full Lighthouse audit pending Chrome availability

    **Document in PERFORMANCE-BASELINE.md:**
    - Date and tool version
    - Performance score (0-100)
    - Core Web Vitals metrics:
      - LCP (Largest Contentful Paint): Target <2.5s
      - FID (First Input Delay): Target <100ms
      - CLS (Cumulative Layout Shift): Target <0.1
    - Specific issues identified (large images, render-blocking resources, etc.)
    - Screenshot or HTML report saved

    **What to avoid:** Do NOT skip baseline audit (can't measure improvement without baseline). Do NOT run audit on live production site (audit local files). Do NOT ignore warnings about image optimization or render-blocking resources (these will guide optimization tasks).
  </action>
  <verify>
    1. Check baseline report: ls .planning/phases/09-technical-seo-infrastructure/baseline-report.html exists (if Chrome available)
    2. Check baseline doc: grep -A 10 "Performance Score" .planning/phases/09-technical-seo-infrastructure/PERFORMANCE-BASELINE.md shows metrics
    3. Verify metrics recorded: Confirm LCP, FID, CLS values documented
  </verify>
  <done>Baseline Lighthouse audit completed (or manual assessment if Chrome unavailable), PERFORMANCE-BASELINE.md documents current scores and Core Web Vitals metrics, HTML report saved for comparison, specific optimization opportunities identified</done>
</task>

<task type="auto">
  <name>Task 2: Optimize images and implement lazy loading</name>
  <files>improved/index.html, improved/images/*</files>
  <action>
    Optimize images for web performance and add lazy loading:

    **Step 1: Image optimization**
    - Scan improved/images/ directory for large images (>200KB)
    - For each large image:
      - If JPEG: Compress to 85% quality, convert to progressive JPEG
      - If PNG: Use lossless compression (pngcrush, optipng, or similar)
      - Target: Reduce total image payload by 30-50% without visible quality loss
    - Document original and optimized sizes in SUMMARY.md

    **Step 2: Lazy loading implementation**
    Add `loading="lazy"` attribute to all non-critical images in index.html:
    ```html
    <!-- Before -->
    <img src="images/hero-jet.jpg" alt="Luxury private jet">

    <!-- After -->
    <img src="images/hero-jet.jpg" alt="Luxury private jet" loading="lazy">
    ```

    **Exception:** Do NOT lazy load above-the-fold images (hero image, logo). Only lazy load images that appear below the fold (wizard step images, testimonials, footer).

    **Step 3: Responsive images (optional if time permits)**
    If any images are very large (>500KB original), consider adding srcset for responsive sizes:
    ```html
    <img src="images/hero-jet.jpg"
         srcset="images/hero-jet-400w.jpg 400w,
                 images/hero-jet-800w.jpg 800w,
                 images/hero-jet-1200w.jpg 1200w"
         sizes="(max-width: 600px) 400px,
                (max-width: 1200px) 800px,
                1200px"
         alt="Luxury private jet">
    ```

    **What to avoid:** Do NOT lazy load above-the-fold hero images (hurts LCP). Do NOT over-compress to point of visible artifacts (maintain luxury brand quality). Do NOT convert JPEGs to PNG or vice versa without testing (wrong format increases file size). Do NOT lazy load logo or favicon (critical for brand recognition).
  </action>
  <verify>
    1. Check image sizes: du -sh improved/images/ shows reduced total size vs baseline
    2. Check lazy loading: grep -c 'loading="lazy"' improved/index.html shows multiple images with lazy attribute
    3. Test loading: Open index.html in browser DevTools Network tab and confirm below-fold images only load when scrolled into view
    4. Visual check: Confirm no visible quality degradation in optimized images
  </verify>
  <done>Images optimized (30-50% size reduction documented), lazy loading attribute added to below-fold images, above-the-fold hero image excluded from lazy loading, responsive images added if applicable, no visible quality loss</done>
</task>

<task type="auto">
  <name>Task 3: Add resource hints for Google Fonts</name>
  <files>improved/index.html</files>
  <action>
    Add resource hints in HTML `<head>` to optimize Google Fonts loading:

    ```html
    <!-- Resource Hints for Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    ```

    **Explanation:**
    - `preconnect`: Establishes early connection to Google Fonts servers (DNS + TCP + TLS) before fonts are requested, saving ~100-500ms
    - `dns-prefetch`: Fallback for older browsers that don't support preconnect (just DNS resolution)
    - `crossorigin`: Required for fonts.gstatic.com because CORS is needed for font loading

    **Placement:** Add these BEFORE the actual Google Fonts `<link>` tag (currently in head). Order matters - hints should come first.

    **Additional optimization (optional):**
    If Google Fonts link uses multiple font weights, consider reducing to essential weights only:
    - Current: Playfair Display 400/700, Poppins 300/400/600
    - Evaluate if all weights are actually used in CSS
    - Remove unused weights to reduce payload

    **What to avoid:** Do NOT add preconnect for domains that aren't actually used (creates wasted connections). Do NOT add more than 2-3 preconnect hints (browser limits, diminishing returns). Do NOT use prefetch (that's for future navigation, not current page resources). Do NOT forget crossorigin attribute on fonts.gstatic.com (fonts won't load properly without it).
  </action>
  <verify>
    1. Check resource hints: grep -A 4 "Resource Hints" improved/index.html shows 4 link tags (2 preconnect, 2 dns-prefetch)
    2. Verify crossorigin: grep 'fonts.gstatic.com' improved/index.html | grep crossorigin confirms attribute present
    3. Test font loading: Open DevTools Network tab and confirm fonts.googleapis.com connection happens early (before fonts request)
  </verify>
  <done>4 resource hints added (preconnect + dns-prefetch for googleapis.com and gstatic.com), crossorigin attribute on gstatic preconnect, hints placed before Google Fonts link tag, font weights reviewed and optimized if applicable</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Optimized static site for Core Web Vitals:
    - Baseline performance audit completed (scores documented in PERFORMANCE-BASELINE.md)
    - Images optimized and lazy loading implemented
    - Resource hints added for Google Fonts preconnection
    - All technical SEO infrastructure from Plans 09-01/02/03 integrated
  </what-built>
  <how-to-verify>
    **Run final Lighthouse audit to verify 90+ performance score:**

    1. **If Chrome/Chromium available:**
       ```bash
       lighthouse improved/index.html --output html --output-path .planning/phases/09-technical-seo-infrastructure/final-report.html
       ```
       - Open final-report.html in browser
       - Confirm Performance score is 90+ (green)
       - Confirm Core Web Vitals pass (green checkmarks):
         - LCP: <2.5s (Good)
         - FID: <100ms (Good)
         - CLS: <0.1 (Good)

    2. **If Chrome not available (manual verification):**
       - Open improved/index.html in Firefox/Safari
       - Check Network tab: Total page size should be <300KB
       - Check lazy loading: Scroll down and confirm images load as they come into view
       - Check visual: No layout shifts, smooth loading experience
       - Note: Full Lighthouse audit requires Chrome - document in SUMMARY.md

    3. **Compare baseline vs optimized:**
       - Open PERFORMANCE-BASELINE.md
       - Compare metrics: Performance score improved? LCP reduced? Image payload smaller?
       - Improvement should be +10-20 points minimum

    4. **Test site functionality:**
       - Wizard still works (multi-step flow)
       - Language switching works (NL/EN button)
       - Images load correctly (no broken lazy loading)
       - Schema.org, hreflang, OG tags still present in head

    **Expected results:**
    - Performance score: 90-100 (green)
    - Core Web Vitals: All green
    - Image payload: 30-50% reduction from baseline
    - No functional regressions
  </how-to-verify>
  <resume-signal>Type "approved" if performance meets targets (90+), or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Baseline audit documented with metrics (LCP, FID, CLS)
- [ ] Images optimized (size reduction documented)
- [ ] Lazy loading implemented on below-fold images only
- [ ] Resource hints added for Google Fonts (preconnect + dns-prefetch)
- [ ] Final Lighthouse audit shows 90+ performance score (or manual verification if Chrome unavailable)
- [ ] Core Web Vitals pass (LCP <2.5s, FID <100ms, CLS <0.1)
- [ ] No functional regressions (wizard, language switching, images load correctly)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Baseline performance audit documented in PERFORMANCE-BASELINE.md
- Images optimized (30-50% reduction) and lazy loading implemented
- Resource hints added (4 link tags for Google Fonts)
- Final performance score 90+ (or documented if Chrome unavailable)
- Core Web Vitals pass threshold (all green)
- Site functionality verified (no regressions)
- Improvement documented (baseline vs final comparison)
</success_criteria>

<output>
After completion, create `.planning/phases/09-technical-seo-infrastructure/09-04-SUMMARY.md`:

# Phase 9 Plan 4: Core Web Vitals & Performance Summary

**[Substantive one-liner - what performance improvements achieved, with numbers]**

## Performance

- **Baseline Score:** [X]/100 (from PERFORMANCE-BASELINE.md)
- **Final Score:** [Y]/100 (improvement: +Z points)
- **LCP:** [baseline] → [final] (target: <2.5s)
- **FID:** [baseline] → [final] (target: <100ms)
- **CLS:** [baseline] → [final] (target: <0.1)
- **Image Payload:** [baseline KB] → [final KB] (reduction: X%)

## Accomplishments

- Lighthouse audit baseline established (or manual assessment if Chrome unavailable)
- Image optimization reduced total payload by X%
- Lazy loading prevents wasted bandwidth on below-fold images
- Google Fonts preconnect saves ~100-500ms on font loading

## Files Created/Modified

- `.planning/phases/09-technical-seo-infrastructure/PERFORMANCE-BASELINE.md` - Baseline audit
- `.planning/phases/09-technical-seo-infrastructure/baseline-report.html` - Lighthouse baseline report (if Chrome available)
- `.planning/phases/09-technical-seo-infrastructure/final-report.html` - Lighthouse final report (if Chrome available)
- `improved/index.html` - Added lazy loading attributes and resource hints
- `improved/images/*` - Optimized X images

## Decisions Made

[Document any image optimization tradeoffs or lazy loading decisions, or "None - followed Core Web Vitals best practices"]

## Issues Encountered

[If Chrome unavailable, document: "Chrome not available - used manual performance assessment instead of Lighthouse. Full audit deferred to Phase 15 analytics setup." Otherwise: "None"]

## Next Phase Readiness

**Phase 9 Complete - Technical SEO foundation established.**

Ready for Phase 10: Pillar Pages & Core Content
- Schema.org templates ready (Organization, LocalBusiness, FAQPage)
- Meta tags infrastructure ready (hreflang, OG, canonical)
- Sitemap ready for 111 pages (1 active + 110 commented)
- Performance optimized (90+ score target met)
- All 5 pillar pages from Phase 8 can now be built with SEO foundation in place
</output>
